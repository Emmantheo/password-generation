<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Random Password Generator</title>
</head>
<body>
    <h1>Random Password Generator</h1>

    <form method="POST" action="/create_password">
        <label for="length">Password Length:</label>
        <input type="number" name="length" id="length" min="1" value="8">

        <br><br>
        <label>
            <input type="checkbox" name="use_upper" checked>
            Include Uppercase (A-Z)
        </label><br>
        <label>
            <input type="checkbox" name="use_lower" checked>
            Include Lowercase (a-z)
        </label><br>
        <label>
            <input type="checkbox" name="use_digits" checked>
            Include Digits (0-9)
        </label><br>
        <label>
            <input type="checkbox" name="use_punct" checked>
            Include Punctuation
        </label><br><br>

        <button type="submit">Generate</button>
    </form>

    {% if generated_password %}
        <h2>Your New Password:</h2>
        <p><strong>{{ generated_password }}</strong></p>
        <!-- Copy button -->
        <button onclick="copyPassword()">Copy to Clipboard</button>
    {% endif %}

    <script>
        function copyPassword() {
            const password = "{{ generated_password|e }}";
            navigator.clipboard.writeText(password)
                .then(() => {
                    alert("Password copied to clipboard!");
                })
                .catch(err => {
                    alert("Failed to copy!");
                    console.error(err);
                });
        }
    </script>
</body>
</html>
